<div class="container">
    <div class="modal-dialog m-5" id="fondoRegister">
        <div class="modal-content">
            <h1 class="text-center mt-5" id="exampleModalLabel"><strong>REGISTRO</strong></h1>
            <h4 class="text-center mt-2" id="exampleModalLabel">Crea un nuevo usuario</h4>
            <form class="px-5 py-5" (submit)="register()">
                <div class="row">
                    <div class="col-6">
                        <div class="form-outline mb-3">
                            <div class="input-group">
                                <label for="name">Nombre</label>
                                <br>
                                <mat-form-field class="example-full-width">
                                    <input type="name" matInput [formControl]="nameFormControl"
                                        [errorStateMatcher]="matcher" placeholder="Ej. Iván" [(ngModel)]="user.name">
                                    <mat-error
                                        *ngIf="nameFormControl.hasError('name') && !nameFormControl.hasError('required')">
                                        Por favor introduce un nombre válido (solo letras y espacios).
                                    </mat-error>
                                    <mat-error *ngIf="nameFormControl.hasError('required')">
                                        El nombre es <strong>requerido</strong>.
                                    </mat-error>
                                    <mat-error *ngIf="nameFormControl.hasError('pattern')">
                                        El nombre debe comenzar en mayúsculas y debe contener solo letras y espacios.
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-outline mb-4">
                            <div class="input-group">
                                <label for="surname">Apellidos</label>
                                <br>
                                <mat-form-field class="example-full-width">
                                    <input type="surname" matInput [formControl]="surnameFormControl"
                                        [errorStateMatcher]="matcher" placeholder="Ej. Negrón Fernández"
                                        [(ngModel)]="user.surname">
                                    <mat-error
                                        *ngIf="surnameFormControl.hasError('name') && !surnameFormControl.hasError('required')">
                                        Por favor introduce unos apellidos válidos (solo letras y espacios).
                                    </mat-error>
                                    <mat-error *ngIf="surnameFormControl.hasError('required')">
                                        El apellido es <strong>requerido</strong>.
                                    </mat-error>
                                    <mat-error *ngIf="surnameFormControl.hasError('pattern')">
                                        El apellido debe comenzar en mayúsculas y debe contener solo letras y espacios.
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-outline mb-5">
                            <div class="input-group">
                                <label for="email">Correo electrónico</label>
                                <br>
                                <mat-form-field class="example-full-width">
                                    <input type="email" matInput [formControl]="emailFormControl"
                                        [errorStateMatcher]="matcher" placeholder="Ej. correo@gmail.com"
                                        [(ngModel)]="user.email">
                                    <mat-error
                                        *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                                        Porfavor introduce un correo electrónico válido
                                    </mat-error>
                                    <mat-error *ngIf="emailFormControl.hasError('required')">
                                        El correo electrónico es <strong>requerido</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-outline mb-4">
                            <div class="input-group">
                                <label for="password">Contraseña</label>
                                <br>
                                <mat-form-field class="example-full-width">
                                    <input type="password" matInput [formControl]="passwordFormControl"
                                        [errorStateMatcher]="matcher" placeholder="Ingrese su contraseña"
                                        [(ngModel)]="user.password">
                                    <mat-error *ngIf="passwordFormControl.hasError('required')">La contraseña es
                                        <strong>obligatoria</strong></mat-error>
                                    <mat-error *ngIf="passwordFormControl.hasError('minlength')">La contraseña debe
                                        tener al menos 6 caracteres</mat-error>
                                    <mat-error *ngIf="passwordFormControl.hasError('maxlength')">La contraseña no debe
                                        tener más de 12 caracteres</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col d-flex justify-content-center">
                    <button id="btRegister" class="col-3 mt-5" mat-raised-button
                        [disabled]="(emailFormControl.hasError('email') || emailFormControl.hasError('required')) || (passwordFormControl.hasError('required')) 
                        || nameFormControl.hasError('name') && !nameFormControl.hasError('required') ||
                        nameFormControl.hasError('required') || nameFormControl.hasError('pattern') || 
                        passwordFormControl.hasError('required') || passwordFormControl.hasError('minlength') ||
                        passwordFormControl.hasError('maxlength') || registrationForm.hasError('notSame') && !registrationForm.pristine">REGISTRARSE
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>